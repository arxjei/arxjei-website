---
import CustomBrutalButton from "@components/CustomBrutalButton.astro";
import CustomBrutalCard from "@components/CustomBrutalCard.astro";

interface Props {
	pubDate: Date;
	author: string;
	viewLiveDemoLink?: string;
	developerNotes?: string;
}

const { pubDate, author, viewLiveDemoLink, developerNotes } = Astro.props;
---

<article
	class="poppins lg:border-l-2 lg:border-b-2 border-black col-span-4 px-6 md:px-12 py-8 md:py-12">
	<div class="max-w-3xl">
		<CustomBrutalButton
			href={`/projects`}
			class="mb-6 md:mb-8">
			&larr; Back to projects
		</CustomBrutalButton>

		<div
			class="flex flex-wrap items-center gap-2 text-sm text-gray-600 mb-8 md:mb-12 pb-6 md:pb-8 border-b-2 border-gray-200">
			<div class="font-medium">
				{
					pubDate.toLocaleDateString("en-US", {
						year: "numeric",
						month: "long",
						day: "numeric",
						timeZone: "Asia/Manila",
						hour12: true,
						hour: "numeric",
						minute: "numeric",
						timeZoneName: "long",
					})
				}
			</div>
			<span class="text-gray-400">•</span>
			<span>by <span class="font-medium text-gray-800">{author}</span></span>
		</div>

		<!-- developerNotes: just alert message for now -->
		{
			developerNotes && (
				<CustomBrutalCard class="border-2 border-black !bg-lime-400">
					<h2 class="text-2xl font-bold mb-4">⚠️ Developer Notes</h2>
					<p class="italic">{developerNotes}</p>
				</CustomBrutalCard>
			)
		}

		<div class="prose max-w-none mb-12">
			<slot />
		</div>

		<!-- Action Buttons Section -->
		<div class="mt-12 pt-8 border-t-2 border-gray-200">
			<p class="text-sm font-semibold text-gray-700 mb-4">
				Interested in this project?
			</p>
			<div class="flex flex-wrap gap-4">
				<CustomBrutalButton
					href="/#contact-me"
					class="bg-lime-500 hover:bg-lime-600">
					Contact Me
				</CustomBrutalButton>
				{
					viewLiveDemoLink && (
						<CustomBrutalButton
							href={viewLiveDemoLink}
							target="_blank"
							class="bg-blue-500 hover:bg-blue-600">
							View Live Demo
						</CustomBrutalButton>
					)
				}
			</div>
		</div>
	</div>
</article>
