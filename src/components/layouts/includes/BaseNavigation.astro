---
import CustomBrutalNavLogo from "@components/CustomBrutalNavLogo.astro";
import CustomBrutalNavLink from "@components/CustomBrutalNavLink.astro";
import type { GitHubUser } from "@lib/github";
import { FolderCode, Home, Star } from "lucide-astro";

interface Props {
	userData: GitHubUser;
	pageTitle?: string;
}

const navigationItems = [
	{ name: "Home", url: "/", icon: Home },
	{ name: "Projects", url: "/projects/", icon: FolderCode },
	{ name: "Starred", url: "/starred/", icon: Star },
];

const { userData, pageTitle } = Astro.props;
---

<header
	class="border-b-4 border-black flex justify-between items-center px-6 py-4 bg-white sticky top-0 z-50">
	{pageTitle && <h1 class="hidden">{pageTitle}</h1>}

	<CustomBrutalNavLogo username={userData.login} />

	<!-- Desktop Navigation -->
	<nav
		class="hidden md:block"
		aria-label="Main navigation">
		<div class="flex items-center gap-4">
			{
				navigationItems.map((item) => {
					const isActive = Astro.url.pathname === item.url;
					return (
						<CustomBrutalNavLink
							href={item.url}
							isActive={isActive}
							title={`Go to ${item.name}`}>
							{item.name}
						</CustomBrutalNavLink>
					);
				})
			}
		</div>
	</nav>

	<!-- Mobile Navigation -->
	<nav
		class="md:hidden"
		aria-label="Mobile navigation">
		<div class="flex items-center gap-2">
			{
				navigationItems.map((item) => {
					const isActive = Astro.url.pathname === item.url;
					return (
						<CustomBrutalNavLink
							href={item.url}
							isActive={isActive}
							title={`Go to ${item.name}`}>
							<item.icon
								size={18}
								strokeWidth={2.5}
							/>
						</CustomBrutalNavLink>
					);
				})
			}
		</div>
	</nav>
</header>
