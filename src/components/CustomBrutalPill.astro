---
interface Props {
	class?: string;
	color?: string;
}

const { class: className, color } = Astro.props;

function hexToRgb(hex: string) {
	const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
	return result
		? {
				r: parseInt(result[1], 16),
				g: parseInt(result[2], 16),
				b: parseInt(result[3], 16),
			}
		: null;
}

const rgb = hexToRgb(color ?? "#000000");
---

<style define:vars={{ color }}>
	span.custom-brutal-pill {
		color: black;
		user-select: none;
		background-color: white;
		border: 2px solid black;
		padding: 0.25rem 0.75rem;
		font-size: small;
		font-family: "Poppins", serif;
		filter: drop-shadow(3px 3px 0 black);
	}

	span.custom-brutal-pill:hover {
		filter: drop-shadow(5px 5px 0 var(--color, black));
	}
</style>

<span class={`custom-brutal-pill ${className ?? ""}`}>
	<slot />
</span>
