---
export const prerender = true;
import { github } from "@lib/github";

interface Props {
	pageTitle?: string;
}

const navigationItems = [
	{ name: "Home", url: "/" },
	{ name: "Projects", url: "/project/" },
];
const userData = await github.getUser();

const { pageTitle } = Astro.props;
---

<header class="border-b-4 border-black flex justify-between">
	{pageTitle && <h1 class="hidden">{pageTitle}</h1>}
	<a
		href="/"
		class="p-6 border-black border-r-4 transition-all duration-150 ease-in-out hover:bg-lime-400"
		title="Back to Home">
		<p class="righteous md:text-5xl text-3xl">
			@{userData.login}
		</p>
	</a>
	<div class="hidden md:inline-block">
		<h2 class="hidden">Navigation</h2>
		<div class="flex items-center poppins h-full">
			{
				navigationItems.map((item) => {
					const isActive = Astro.url.pathname === item.url;
					return (
						<a
							class={`text-xl font-medium transition-all duration-150 ease-in-out p-6 border-black border-l-4 h-full flex items-center poppins hover:bg-lime-400 ${isActive ? "bg-lime-400" : ""}`}
							href={item.url}
							title={`Go to ${item.name}`}>
							{item.name}
						</a>
					);
				})
			}
		</div>
	</div>
	<div class="md:hidden flex">
		<div class="flex items-center poppins h-full">
			{
				navigationItems
					.filter((item) => item.name !== "Home")
					.map((item) => (
						<a
							class="text-xl font-medium transition-all duration-150 ease-in-out p-6 border-black border-l-4 h-full flex items-center poppins hover:bg-lime-400"
							href={item.url}
							title={`Go to ${item.name}`}>
							{item.name}
						</a>
					))
			}
		</div>
	</div>
</header>
